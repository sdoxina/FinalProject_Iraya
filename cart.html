<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device, initial-scale=1.0">
    <title>Iraya</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="Iraya_Favicon.png">
    <link rel="stylesheet" href="style.css">
    <style>
        .item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #fff;
        }

        .item img {
            max-width: 100px;
            margin-right: 1rem;
        }

        .item .content {
            flex-grow: 1;
        }

        .item .content .name {
            font-size: 1.2rem;
            font-weight: bold;
        }

        .item .content .price {
            color: #888;
        }

        .item .quantity {
            display: flex;
            align-items: center;
        }

        .item .quantity button {
            background-color: #f8f9fa;
            border: 1px solid #888;
            padding: 0.5rem 1rem;
            cursor: pointer;
        }

        .item .quantity .value {
            margin: 0 0.5rem;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .buttons .btn {
            background-color: #e27396;
            color: white;
            padding: 0.75rem 1.5rem;
            text-decoration: none;
        }

        .empty-cart-message {
            text-align: center;
            padding: 2rem;
            font-size: 1.2rem;
            color: #888;
        }
    </style>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="app.js"></script>

    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand me-auto d-flex align-items-center" href="index.html">
                <img src="Iraya_Logo.png" alt="Logo" class="navbar-img"> Iraya
            </a>
            <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title d-flex align-items-center" id="offcanvasNavbarLabel">
                        <img src="Iraya_Logo.png" alt="Iraya Logo" style="height: 30px; width: auto; margin-right: 0.5rem;">Iraya
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <ul class="navbar-nav justify-content-center flex-grow-1 pe-3">
                        <li class="nav-item">
                            <a class="nav-link active mx-lg-2" aria-current="page" href="index.html#about">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mx-lg-2" href="products.html">Products</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mx-lg-2" href="store-locator.html">Store Locator</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mx-lg-2" href="events.html">Events</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link mx-lg-2" href="contact.html">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
    
            <button class="navbar-toggler pe-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>

    <section class="cart-sect">
        <div class="container">
            <header>
                <div class="row">
                    <h1 class="section-title">Your Cart</h1>
                    <img src="dividers-ac.png" alt="divider" class="divider">
                </div>
            </header>

            <div class="listCart">
                <!-- Cart items will be injected here by JavaScript -->
            </div>

            <div class="buttons">
                <a href="products.html" class="btn">CONTINUE SHOPPING</a>
                <a href="checkout-form.html" class="btn">CHECKOUT</a>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
          <footer class="py-5">
            <div class="row">
              <div class="col-6 col-md-2 mb-3">
                <ul class="footer flex-column list-unstyled">
                  <li class="footer-item mb-2"><a href="index.html#about" class="footer-link p-0 text-body-secondary">About Iraya</a></li>
                  <li class="footer-item mb-2"><a href="products.html" class="footer-link p-0 text-body-secondary">Products</a></li>
                  <li class="footer-item mb-2"><a href="store-locator.html" class="footer-link p-0 text-body-secondary">Store Locator</a></li>
                  <li class="footer-item mb-2"><a href="events.html" class="footer-link p-0 text-body-secondary">Events</a></li>
                  <li class="footer-item mb-2"><a href="contact.html" class="footer-link p-0 text-body-secondary">Contact</a></li>
                </ul>
              </div>
      
              <div class="col-6 col-md-2 mb-3">
                <h5>Web Designer</h5>
                <h6>Shane Oxina</h6>
                <br>
                <h5>Email</h5>
                <h6><a href="mailto:oxinashane@gmail.com">oxinashane@gmail.com</a></h6>
              </div>
      
              <div class="col-md-7 offset-md-1 mb-3">
                <img src="Iraya_LogowName.png" alt="Iraya Logo">
              </div>
            </div>
      
            <div class="d-flex flex-column flex-sm-row justify-content-between py-4 my-4 border-top">
              <p>Copyright &copy; 2024 Iraya. All rights reserved.</p>
            </div>
          </footer>
        </div>
      </footer>

    <script>
        function getCartFromCookie() {
            const cookieValue = document.cookie
                .split('; ')
                .find(row => row.startsWith('listCart='));
            return cookieValue ? JSON.parse(cookieValue.split('=')[1]) : [];
        }

        function renderCart() {
            const listCartHTML = document.querySelector('.listCart');
            listCartHTML.innerHTML = '';

            const cartItems = getCartFromCookie();
            let totalQuantity = 0;

            if (cartItems.length === 0) {
                const emptyMessage = document.createElement('div');
                emptyMessage.classList.add('empty-cart-message');
                emptyMessage.textContent = 'Your cart is currently empty.';
                listCartHTML.appendChild(emptyMessage);
                return;
            }

            cartItems.forEach((product, index) => {
                if (product) {
                    let newCart = document.createElement('div');
                    newCart.classList.add('item');
                    newCart.innerHTML = `
                        <img src="${product.image}" alt="">
                        <div class="content">
                            <div class="name">${product.name}</div>
                            <div class="price">â‚±${product.price}</div>
                        </div>
                        <div class="quantity">
                            <button onclick="changeQuantity(${index}, '-')">-</button>
                            <span class="value">${product.quantity}</span>
                            <button onclick="changeQuantity(${index}, '+')">+</button>
                        </div>`;
                    listCartHTML.appendChild(newCart);
                    totalQuantity += product.quantity;
                }
            });
        }

        function changeQuantity(index, type) {
            const cartItems = getCartFromCookie();

            if (type === '+') {
                cartItems[index].quantity++;
            } else if (type === '-') {
                cartItems[index].quantity--;
                if (cartItems[index].quantity <= 0) {
                    cartItems.splice(index, 1);
                }
            }

            document.cookie = "listCart=" + JSON.stringify(cartItems) + "; expires=Thu, 31 Dec 2025 23:59:59 UTC; path=/;";
            renderCart();
        }

        document.addEventListener('DOMContentLoaded', renderCart);
    </script>
</body>
</html>
